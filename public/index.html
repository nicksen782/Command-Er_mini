<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self'; font-src 'self' data: fonts.gstatic.com;"> -->

	<title>Command-Er Mini (debug)</title>
	<link rel="icon" type="image/x-icon" href="favicon.ico">

	<link rel="stylesheet" href="webClient/css/index.css">
	<script src="webClient/js/index.js" defer></script>
</head>

<body>

	<div id="vram_cont">
		<div id="vram_div_all">
			<div class="title">ALL DISPLAY LAYERS</div>
			<canvas class="" id="vram_all" width="240" height="240"></canvas>
		</div>
	</div>

	<div id="controls_cont">
		<div class="title taller">
			WebSocket Connect 
			<span id="ws_autoReconnectDiv">
				<label>
					Auto-reconnect
					<input id="ws_autoReconnect" type="checkbox">	
				</label>
			</span> 
			<button id="ws_connect" class="button">CONNECT</button>
			<button id="ws_disconnect" class="button">CLOSE</button>
			<span id="ws_status">&#11035;</span> 
		</div>

		<div id="controls_top">
			<div class="ws disconnected inputButtons">
				<button title="KEY_UP_PIN"    id="ws_up"    class="button icon">&#9650;</button>
				<button title="KEY_DOWN_PIN"  id="ws_down"  class="button icon">&#9660;</button>
				<button title="KEY_PRESS_PIN" id="ws_press" class="button icon">&#128307;</button>
				<button title="KEY_LEFT_PIN"  id="ws_left"  class="button icon">&#9664;</button>
				<button title="KEY_RIGHT_PIN" id="ws_right" class="button icon">&#9654;</button>
				<button title="KEY1_PIN"      id="ws_b1"    class="button icon">&#9461;</button>
				<button title="KEY2_PIN"      id="ws_b2"    class="button icon">&#9462;</button>
				<button title="KEY3_PIN"      id="ws_b3"    class="button icon">&#9463;</button>
				<button id="ws_requestVramDraw" class="button">Get _VRAM</button>
			</div>

			<!-- Options 1 -->
			<table class="ws disconnected">
				<tr>
					<td class="title">UPDATESTATS</td>
					<td>
						<div id="info_VRAM_UPDATESTATS">
							<table>
							</table>
						</div>
					</td>

					<td>
						<div class="title">VRAM Layers</div>
						SHOW: <input type="checkbox" id="vram_div_layersChk">

						<div class="title">Server FPS: Set</div>
						<select id="info_changeFps"></select>
							<button id="info_changeFpsBtn">SET</button>
					</td>
				</tr>
				
				<tr>
					<td colspan="1" class="title">SCREENS</td>
					<td colspan="3">
						<div id="info_screensDiv1">
							<table>
							</table>
						</div>
					</td>
				</tr>

				<tr>
					<td colspan="1" class="title">SUBSCRIPTIONS</td>
					<td colspan="3">
						<div id="info_subscriptionsDiv"></div>
					</td>
				</tr>
			</table>
			
			<!-- Options 2 -->
			<!-- <div id="controls_bottom1" class="ws disconnected"> -->
				
			<!-- </div> -->
		</div>

		<!-- Data 1 -->
		<div id="controls_bottom2">
			<table class="ws disconnected">
				<tr>
					<td class="title table-cell">L:FPS</td>
					<td> <span id="info_fps">0 f/s</span> </td>

					<td class="title table-cell">S:FPS</td>
					<td> <span id="info_serverFps"></span> </td>

					<td class="title table-cell">L:draws</td>
					<td> <span id="info_draws">0</span> </td>

					<td class="title table-cell">L:lastDraw</td>
					<td> <span id="info_lastDraw">0</span> </td>
				</tr>
			</table>
		</div>
		<!-- <br> -->

		<div class="title">Via POST</div>
		<div>
			<div class="inputButtons">
				<button title="KEY_UP_PIN"    id="post_up"    class="button icon">&#9650;</button>
				<button title="KEY_DOWN_PIN"  id="post_down"  class="button icon">&#9660;</button>
				<button title="KEY_PRESS_PIN" id="post_press" class="button icon">&#128307;</button>
				<button title="KEY_LEFT_PIN"  id="post_left"  class="button icon">&#9664;</button>
				<button title="KEY_RIGHT_PIN" id="post_right" class="button icon">&#9654;</button>
				<button title="KEY1_PIN"      id="post_b1"    class="button icon">&#9461;</button>
				<button title="KEY2_PIN"      id="post_b2"    class="button icon">&#9462;</button>
				<button title="KEY3_PIN"      id="post_b3"    class="button icon">&#9463;</button>
				<button id="post_requestVramDraw" class="button">Get _VRAM</button>
			</div>
			<button id="post_requestDrawFlags" class="button">Request GET_DRAW_FLAGS</button>
			<br>
			<button class="button" onclick="http.post('DEBUGCMD', { 'cmd':'pm2.restart'    }, 'json');">pm2.restart</button>
			<button class="button" onclick="http.post('DEBUGCMD', { 'cmd':'process.exit'   }, 'json');">process.exit</button>
			<button class="button" onclick="http.post('DEBUGCMD', { 'cmd':'linux.reboot'   }, 'json');">linux.reboot</button>
			<button class="button" onclick="http.post('DEBUGCMD', { 'cmd':'linux.shutdown' }, 'json');">linux.shutdown</button>
			<br>
			<div id="info_screensDiv2">
			</div>

		</div>

	</div>

	<div id="vram_div_layers" class="hide">
		<div class="inlineBlock">
			<div class="title">DISPLAY LAYER: 0 (fillTile)</div>
			<canvas class="vramCanvas" id="vram_l1" width="240" height="240"></canvas>
		</div>

		<div class="inlineBlock">
			<div class="title">DISPLAY LAYER: 1 (setTile L1)</div>
			<canvas class="vramCanvas" id="vram_l2" width="240" height="240"></canvas>
		</div>

		<div class="inlineBlock">
			<span class="title">DISPLAY LAYER: 2 (setTile L2/print)</span>
			<canvas class="vramCanvas" id="vram_l3" width="240" height="240"></canvas>
		</div>
	</div>

</body>

</html>